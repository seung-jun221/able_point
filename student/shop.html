<!DOCTYPE html>
<html lang="ko">
  <head>
    <!-- Supabase ν΄λΌμ΄μ–ΈνΈ -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ν¬μΈνΈμƒµ - ν¬μΈνΈ λ±…ν¬</title>
    <link rel="stylesheet" href="../assets/css/common.css" />
    <link rel="stylesheet" href="../assets/css/shop.css" />
  </head>
  <body>
    <!-- μƒλ‹¨ ν—¤λ” -->
    <div class="shop-header">
      <button class="back-btn" onclick="history.back()">β€Ή</button>
      <h1 class="page-title">ν¬μΈνΈμƒµ</h1>
      <div class="my-points">
        <span class="points-label">λ³΄μ </span>
        <span class="points-value" id="myPoints">0P</span>
      </div>
    </div>

    <!-- μΉ΄ν…κ³ λ¦¬ νƒ­ -->
    <div class="category-tabs">
      <button class="category-btn active" data-category="all">μ „μ²΄</button>
      <button class="category-btn" data-category="stationery">λ¬Έκµ¬λ¥</button>
      <button class="category-btn" data-category="snack">κ°„μ‹</button>
      <button class="category-btn" data-category="voucher">μƒν’κ¶</button>
      <button class="category-btn" data-category="special">νΉλ³„μƒν’</button>
    </div>

    <!-- λ©”μΈ μ»¨ν…μ΄λ„ -->
    <div class="main-container">
      <!-- μΈκΈ° μƒν’ λ°°λ„ -->
      <div class="popular-banner">
        <div class="banner-content">
          <span class="banner-badge">π”¥ HOT</span>
          <div class="banner-info">
            <h3>μ΄λ² μ£Ό μΈκΈ° μƒν’</h3>
            <p>λ¬Έν™”μƒν’κ¶ 5,000μ›</p>
          </div>
          <div class="banner-price">1,000P</div>
        </div>
      </div>

      <!-- μƒν’ κ·Έλ¦¬λ“ -->
      <div class="products-grid" id="productsGrid">
        <!-- μƒν’ μΉ΄λ“ μμ‹ -->
        <div class="product-card" data-category="stationery">
          <div class="product-image">
            <span class="product-emoji">βοΈ</span>
            <span class="stock-badge">μ¬κ³  50κ°</span>
          </div>
          <div class="product-info">
            <h3 class="product-name">μ—°ν•„ μ„ΈνΈ</h3>
            <p class="product-desc">κ³ κΈ‰ μ—°ν•„ 5μλ£¨ μ„ΈνΈ</p>
            <div class="product-footer">
              <span class="product-price">100P</span>
              <button
                class="buy-btn"
                onclick="purchaseItem('ITEM001', 'μ—°ν•„ μ„ΈνΈ', 100)"
              >
                κµ¬λ§¤
              </button>
            </div>
          </div>
        </div>

        <div class="product-card" data-category="snack">
          <div class="product-image">
            <span class="product-emoji">π</span>
            <span class="stock-badge">μ¬κ³  30κ°</span>
          </div>
          <div class="product-info">
            <h3 class="product-name">κ³Όμ μ„ΈνΈ</h3>
            <p class="product-desc">μΈκΈ° κ³Όμ λ¨μ</p>
            <div class="product-footer">
              <span class="product-price">200P</span>
              <button
                class="buy-btn"
                onclick="purchaseItem('ITEM002', 'κ³Όμ μ„ΈνΈ', 200)"
              >
                κµ¬λ§¤
              </button>
            </div>
          </div>
        </div>

        <div class="product-card" data-category="stationery">
          <div class="product-image">
            <span class="product-emoji">π“’</span>
            <span class="stock-badge">μ¬κ³  20κ°</span>
          </div>
          <div class="product-info">
            <h3 class="product-name">λ…ΈνΈλ¶</h3>
            <p class="product-desc">A4 μ¤ν”„λ§ λ…ΈνΈ</p>
            <div class="product-footer">
              <span class="product-price">150P</span>
              <button
                class="buy-btn"
                onclick="purchaseItem('ITEM003', 'λ…ΈνΈλ¶', 150)"
              >
                κµ¬λ§¤
              </button>
            </div>
          </div>
        </div>

        <div class="product-card" data-category="voucher">
          <div class="product-image">
            <span class="product-emoji">π</span>
            <span class="stock-badge stock-low">μ¬κ³  5κ°</span>
          </div>
          <div class="product-info">
            <h3 class="product-name">λ¬Έν™”μƒν’κ¶ 5,000μ›</h3>
            <p class="product-desc">μ¨λΌμΈ/μ¤ν”„λΌμΈ μ‚¬μ© κ°€λ¥</p>
            <div class="product-footer">
              <span class="product-price">1,000P</span>
              <button
                class="buy-btn"
                onclick="purchaseItem('ITEM004', 'λ¬Έν™”μƒν’κ¶', 1000)"
              >
                κµ¬λ§¤
              </button>
            </div>
          </div>
        </div>

        <div class="product-card" data-category="special">
          <div class="product-image">
            <span class="product-emoji">π•</span>
            <span class="stock-badge stock-low">μ¬κ³  3κ°</span>
          </div>
          <div class="product-info">
            <h3 class="product-name">ν”Όμ μΏ ν°</h3>
            <p class="product-desc">ννμ΅΄μ¤ λΌμ§€ ν”Όμ</p>
            <div class="product-footer">
              <span class="product-price">2,000P</span>
              <button
                class="buy-btn"
                onclick="purchaseItem('ITEM005', 'ν”Όμ μΏ ν°', 2000)"
              >
                κµ¬λ§¤
              </button>
            </div>
          </div>
        </div>

        <div class="product-card" data-category="stationery">
          <div class="product-image">
            <span class="product-emoji">β‚οΈ</span>
            <span class="stock-badge">μ¬κ³  15κ°</span>
          </div>
          <div class="product-info">
            <h3 class="product-name">λ¬Έκµ¬ μ„ΈνΈ</h3>
            <p class="product-desc">κ°€μ„, ν’€, μ μ„ΈνΈ</p>
            <div class="product-footer">
              <span class="product-price">250P</span>
              <button
                class="buy-btn"
                onclick="purchaseItem('ITEM006', 'λ¬Έκµ¬ μ„ΈνΈ', 250)"
              >
                κµ¬λ§¤
              </button>
            </div>
          </div>
        </div>

        <div class="product-card" data-category="snack">
          <div class="product-image">
            <span class="product-emoji">π¥¤</span>
            <span class="stock-badge">μ¬κ³  25κ°</span>
          </div>
          <div class="product-info">
            <h3 class="product-name">μλ£μ</h3>
            <p class="product-desc">μ½λΌ/μ‚¬μ΄λ‹¤ μ„ νƒ</p>
            <div class="product-footer">
              <span class="product-price">50P</span>
              <button
                class="buy-btn"
                onclick="purchaseItem('ITEM007', 'μλ£μ', 50)"
              >
                κµ¬λ§¤
              </button>
            </div>
          </div>
        </div>

        <div class="product-card" data-category="special">
          <div class="product-image">
            <span class="product-emoji">π®</span>
            <span class="stock-badge stock-low">μ¬κ³  2κ°</span>
          </div>
          <div class="product-info">
            <h3 class="product-name">κ²μ„ μ΄μ©κ¶</h3>
            <p class="product-desc">PCλ°© 2μ‹κ°„ μ΄μ©κ¶</p>
            <div class="product-footer">
              <span class="product-price">500P</span>
              <button
                class="buy-btn"
                onclick="purchaseItem('ITEM008', 'κ²μ„ μ΄μ©κ¶', 500)"
              >
                κµ¬λ§¤
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- κµ¬λ§¤ λ‚΄μ—­ -->
      <div class="purchase-history">
        <h2 class="section-title">μµκ·Ό κµ¬λ§¤ λ‚΄μ—­</h2>
        <div class="history-list" id="historyList">
          <div class="history-item">
            <div class="history-info">
              <span class="history-icon">βοΈ</span>
              <div>
                <div class="history-name">μ—°ν•„ μ„ΈνΈ</div>
                <div class="history-date">2024.11.10</div>
              </div>
            </div>
            <span class="history-price">-100P</span>
          </div>
        </div>
      </div>
    </div>

    <!-- κµ¬λ§¤ ν™•μΈ λ¨λ‹¬ -->
    <div id="purchaseModal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>κµ¬λ§¤ ν™•μΈ</h2>
          <button class="modal-close" onclick="closePurchaseModal()">Γ—</button>
        </div>
        <div class="modal-body">
          <div class="purchase-item">
            <span class="purchase-emoji" id="purchaseEmoji">π</span>
            <h3 id="purchaseName">μƒν’λ…</h3>
            <p class="purchase-price" id="purchasePrice">0P</p>
          </div>
          <div class="purchase-info">
            <div class="info-row">
              <span>ν„μ¬ ν¬μΈνΈ</span>
              <span id="currentPoints">0P</span>
            </div>
            <div class="info-row">
              <span>κµ¬λ§¤ ν›„ μ”μ•΅</span>
              <span id="afterPoints">0P</span>
            </div>
          </div>
          <p class="purchase-notice">κµ¬λ§¤ν•μ‹  μƒν’μ€ λ°μ¤ν¬μ—μ„ μλ Ήν•μ„Έμ”!</p>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" onclick="closePurchaseModal()">
            μ·¨μ†
          </button>
          <button class="btn btn-primary" id="confirmPurchase">κµ¬λ§¤ν•κΈ°</button>
        </div>
      </div>
    </div>

    <script src="../assets/js/api.js"></script>
    <script src="../assets/js/shop.js"></script>
  </body>
</html>
