<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ν¬μΈνΈ λ±…ν¬ - ν•™μƒ</title>
    <link rel="stylesheet" href="../assets/css/common.css" />
    <link rel="stylesheet" href="../assets/css/student.css" />
  </head>
  <body>
    <!-- μƒλ‹¨ ν”„λ΅ν•„ ν—¤λ” -->
    <div class="profile-header">
      <div class="profile-left">
        <div class="avatar" id="userAvatar">π¦</div>
        <div class="profile-info">
          <h2 id="userName">ν•™μƒ μ΄λ¦„</h2>
          <span class="level-badge" id="userLevel">π± μ”¨μ•—</span>
        </div>
      </div>
      <div class="daily-points">
        <div class="daily-label">μ¤λ νλ“</div>
        <div class="daily-value" id="todayPoints">+0P</div>
      </div>
    </div>

    <!-- λ©”μΈ μ»¨ν…μ΄λ„ -->
    <div class="main-container">
      <!-- ν¬μΈνΈ μΉ΄λ“ μ„Ήμ… -->
      <div class="points-section">
        <div class="points-header">
          <div class="points-title">
            <span class="point-icon">P</span>
            <span>ν¬μΈνΈ μ§€κ°‘</span>
          </div>
          <a href="#" class="points-link" onclick="showHistory()">β€Ί</a>
        </div>
        <div class="total-points" id="totalPoints">0P</div>
        <div class="points-breakdown">
          <div class="breakdown-item">
            <span class="breakdown-label">μ΄ νλ“</span>
            <span class="breakdown-value" id="totalEarned">0P</span>
          </div>
          <div class="breakdown-item">
            <span class="breakdown-label">μ΄ μ‚¬μ©</span>
            <span class="breakdown-value" id="totalSpent">0P</span>
          </div>
        </div>
      </div>

      <!-- νƒ­ λ©”λ‰΄ -->
      <div class="tab-menu">
        <button class="tab-btn active" data-tab="overview">μ „μ²΄</button>
        <button class="tab-btn" data-tab="earn">νλ“</button>
        <button class="tab-btn" data-tab="spend">μ‚¬μ©</button>
        <button class="tab-btn" data-tab="save">μ €μ¶•</button>
      </div>

      <!-- μ €μ¶• κ³„μΆ μΉ΄λ“ -->
      <div class="savings-card">
        <div class="savings-header">
          <span class="savings-title">π’ μ €μ¶• κ³„μΆ</span>
          <span class="interest-rate">μ£Ό 2% μ΄μ</span>
        </div>
        <div class="savings-amount" id="savingsAmount">0P</div>
        <div class="next-interest">
          λ‹¤μ μ΄μ μ§€κΈ‰μΌ: <span id="nextInterestDate">μ›”μ”μΌ</span> (+<span
            id="expectedInterest"
            >0</span
          >P μμ •)
        </div>
        <div class="savings-actions">
          <button class="savings-btn" onclick="deposit()">μ…κΈν•κΈ°</button>
          <button class="savings-btn" onclick="withdraw()">μ¶κΈν•κΈ°</button>
        </div>
      </div>

      <!-- μ΄λ²¤νΈ νƒ€μ΄λ¨Έ -->
      <div class="event-timer">
        <div class="event-title">π λ‹¤μ μ›”κ°„ κ²½λ§¤κΉμ§€</div>
        <div class="event-countdown" id="eventCountdown">D-14</div>
        <div class="event-date" id="eventDate">11μ›” 29μΌ κΈμ”μΌ 4:30PM</div>
      </div>

      <!-- λΉ λ¥Έ μ•΅μ… -->
      <div class="quick-actions">
        <div class="action-btn" onclick="location.href='shop.html'">
          <span class="action-icon">π›οΈ</span>
          <span class="action-label">ν¬μΈνΈμƒµ</span>
        </div>
        <div class="action-btn" onclick="showGift()">
          <span class="action-icon">π</span>
          <span class="action-label">μΉκµ¬ μ„ λ¬Ό</span>
        </div>
        <div class="action-btn" onclick="showDonate()">
          <span class="action-icon">π’</span>
          <span class="action-label">κΈ°λ¶€ν•κΈ°</span>
        </div>
        <div class="action-btn" onclick="showMilestone()">
          <span class="action-icon">π†</span>
          <span class="action-label">λ§μΌμ¤ν†¤</span>
        </div>
      </div>

      <!-- μµκ·Ό ν™λ™ -->
      <div class="activity-section">
        <div class="section-header">
          <span class="section-title">μµκ·Ό ν¬μΈνΈ ν™λ™</span>
          <a href="#" class="view-all" onclick="showAllHistory()">μ „μ²΄λ³΄κΈ° β€Ί</a>
        </div>
        <div class="activity-list" id="activityList">
          <div class="loading">λ°μ΄ν„°λ¥Ό λ¶λ¬μ¤λ” μ¤‘...</div>
        </div>
      </div>

      <!-- μ΄λ² μ£Ό λ­ν‚Ή -->
      <div class="ranking-card">
        <div class="section-header">
          <span class="section-title">π† μ΄λ² μ£Ό λ­ν‚Ή</span>
          <a href="ranking.html" class="view-all">μ „μ²΄ λ­ν‚Ή β€Ί</a>
        </div>
        <div class="ranking-list" id="rankingList">
          <div class="loading">λ­ν‚Ήμ„ λ¶λ¬μ¤λ” μ¤‘...</div>
        </div>
      </div>

      <!-- μΉκµ¬ κΈ°λ¶€ ν„ν™© -->
      <div class="donation-section">
        <div class="section-header">
          <span class="section-title">π’ μ΄λ² λ‹¬ κΈ°λ¶€ μ²μ‚¬λ“¤</span>
        </div>
        <div class="donation-list" id="donationList">
          <div class="donor-card">
            <span class="donor-icon">π‘Ό</span>
            <span class="donor-name">λ°•λ―Όμ</span>
            <span class="donor-amount">300P</span>
          </div>
          <div class="donor-card">
            <span class="donor-icon">π‘Ό</span>
            <span class="donor-name">μ΄μν¬</span>
            <span class="donor-amount">200P</span>
          </div>
          <div class="donor-card">
            <span class="donor-icon">π‘Ό</span>
            <span class="donor-name">μµμ§€μ°</span>
            <span class="donor-amount">150P</span>
          </div>
        </div>
      </div>
    </div>

    <!-- ν•λ‹¨ λ„¤λΉ„κ²μ΄μ… -->
    <div class="bottom-nav">
      <div class="nav-item active" data-page="home">
        <span class="nav-icon">π </span>
        <span class="nav-label">ν™</span>
      </div>
      <div
        class="nav-item"
        data-page="points"
        onclick="location.href='savings.html'"
      >
        <span class="nav-icon">π’°</span>
        <span class="nav-label">μ €μ¶•</span>
      </div>
      <div
        class="nav-item"
        data-page="shop"
        onclick="location.href='shop.html'"
      >
        <span class="nav-icon">π›οΈ</span>
        <span class="nav-label">μƒμ </span>
      </div>
      <div
        class="nav-item"
        data-page="ranking"
        onclick="location.href='ranking.html'"
      >
        <span class="nav-icon">π†</span>
        <span class="nav-label">λ­ν‚Ή</span>
      </div>
      <div class="nav-item" data-page="profile" onclick="showProfile()">
        <span class="nav-icon">π‘¤</span>
        <span class="nav-label">λ‚΄μ •λ³΄</span>
      </div>
    </div>

    <!-- λ¨λ‹¬: ν¬μΈνΈ μ΄μ²΄ -->
    <div id="transferModal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2 id="modalTitle">ν¬μΈνΈ μ„ λ¬Όν•κΈ°</h2>
          <button class="modal-close" onclick="closeModal()">Γ—</button>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label class="form-label">λ°›λ” μΉκµ¬</label>
            <select class="form-select" id="recipientSelect">
              <option value="">μΉκµ¬λ¥Ό μ„ νƒν•μ„Έμ”</option>
            </select>
          </div>
          <div class="form-group">
            <label class="form-label">λ³΄λ‚Ό ν¬μΈνΈ</label>
            <input
              type="number"
              class="form-input"
              id="transferAmount"
              placeholder="λ³΄λ‚Ό ν¬μΈνΈ μ…λ ¥"
            />
            <div class="form-hint">
              λ³΄μ  ν¬μΈνΈ: <span id="availablePoints">0</span>P
            </div>
          </div>
          <div class="form-group">
            <label class="form-label">λ©”μ‹μ§€ (μ„ νƒ)</label>
            <input
              type="text"
              class="form-input"
              id="transferMessage"
              placeholder="μ‘μ› λ©”μ‹μ§€λ¥Ό λ‚¨κ²¨λ³΄μ„Έμ”!"
            />
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" onclick="closeModal()">μ·¨μ†</button>
          <button class="btn btn-primary" onclick="sendGift()">μ„ λ¬Όν•κΈ°</button>
        </div>
      </div>
    </div>

    <script src="../assets/js/api.js"></script>
    <script src="../assets/js/student.js"></script>
  </body>
</html>
